<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>
{% block javascript %}
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script type="text/javascript">
        function deleteRow(event)
      {
            var db_name= document.getElementById('db').name;
            var id= document.getElementById('id_field').value;
            $.ajax({
                url: "http://127.0.0.1:8000/main/home/db/{{db_name}}/table/{{table_name}}/delete_row/" + id,
                type: 'DELETE',
                success: function(result){
                        window.location = "http://127.0.0.1:8000/main/home/db/"+ db_name;
                          },
                error: function (response) {

                        window.location = "http://127.0.0.1:8000/main/home/db/"+ db_name;
                    }

            });


        }
    </script>
    {% endblock javascript %}

<form onSubmit="return deleteRow()">
    {% csrf_token %}
    {{ form }}
    <input type="hidden" id="db" name="{{db_name}}">{{db_name}}</input>
    <p>Row ID:</p>
    <input id="id_field" type="number" name="id_field">
    <input type="submit" value="OK">
</form>


</body>
</html>